> [!WARNING] 未完善
这是系统的“大脑”，负责最高层的决策。

- **节点名**: `/autonomous_controller`
    
- **订阅话题**:
    
    - `/target/pose_3d` (来自 [[Aruco 视觉定位]]): 目标相对位姿。
        
    - `/target/plate_info` (来自 [[号牌识别模型]]): 目标识别结果。
        
    - `/drone/pose` (来自 [[MAVSDK]]): 无人机当前位姿。
        
- **发布话题**:
    
    - `/drone/control_setpoint` (geometry_msgs/Twist 或 PoseStamped): 发送给 [[MAVSDK]] 的控制指令。
        
- **核心逻辑 (状态机)**:
    
    - **State 1: SEARCHING (搜索)**
        
        - 执行预设巡航航线，同时 [[号牌识别模型]] 和 [[Aruco 视觉定位]] 保持开启。
            
        - _转移条件_: 当检测到 Aruco 码并且号牌识别正确时 -> `APPROACHING`。
            
    - **State 2: APPROACHING (接近)**
        
        - 使用 `/target/pose_3d` 的数据，通过一个 PID/PD 控制器计算速度指令，使无人机飞向目标正上方一定高度。
            
        - _转移条件_: 到达预设悬停点 -> `TRACKING`。
            
    - **State 3: TRACKING (跟踪)**
        
        - 持续使用 `/target/pose_3d` 数据进行视觉伺服，保持与目标的相对位置。
            

**关联: [[3. 关键模块详解]]**